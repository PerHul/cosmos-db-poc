-------------------------------------------------------------------------------
Test set: no.klp.cosmodbpoc.DemoApplicationTests
-------------------------------------------------------------------------------
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.62 s <<< FAILURE! - in no.klp.cosmodbpoc.DemoApplicationTests
contextLoads  Time elapsed: 0.005 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userProfileResource': Unsatisfied dependency expressed through field 'userProfileRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userProfileRepository' defined in no.klp.cosmodbpoc.UserProfileRepository defined in @EnableReactiveCosmosRepositories declared on UserProfileConfiguration: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.data.cosmos.repository.support.SimpleReactiveCosmosRepository]: Constructor threw exception; nested exception is com.azure.spring.data.cosmos.exception.CosmosAccessException: Failed to create container; nested exception is {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","statusCode":400,"resourceAddress":"https://sandbox-cosmos-db-poc-account-norwayeast.documents.azure.com:443/dbs/testdb/colls","error":"{\"code\":\"BadRequest\",\"message\":\"Setting offer throughput or autopilot on container is not supported for serverless accounts.\\r\\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest\",\"additionalErrorInfo\":null}","innerErrorMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","causeInfo":null,"responseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}","requestHeaders":"[Accept=application/json, x-ms-date=Mon, 15 Aug 2022 09:39:53 GMT, x-ms-offer-throughput=400, Content-Type=application/json]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","activityId":"d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12","requestLatencyInMs":62,"requestStartTimeUTC":"2022-08-15T09:39:53.608958500Z","requestEndTimeUTC":"2022-08-15T09:39:53.671912800Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":["norway east"],"retryContext":{"statusAndSubStatusCodes":null,"retryLatency":0,"retryCount":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":[{"serializationType":"CONTAINER_SERIALIZATION","startTimeUTC":"2022-08-15T09:39:53.608958500Z","endTimeUTC":"2022-08-15T09:39:53.609960300Z","durationInMilliSecs":1.0018}]},"gatewayStatistics":{"sessionToken":null,"operationType":"Create","resourceType":"DocumentCollection","statusCode":400,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-08-15T09:39:53.612713100Z","durationInMilliSecs":39.0866},{"eventName":"connectionConfigured","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":0.0},{"eventName":"requestSent","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":4.5491},{"eventName":"transitTime","startTimeUTC":"2022-08-15T09:39:53.656348800Z","durationInMilliSecs":14.0832},{"eventName":"received","startTimeUTC":"2022-08-15T09:39:53.670432Z","durationInMilliSecs":0.9385}],"partitionKeyRangeId":null,"exceptionMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","exceptionResponseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}"},"systemInformation":{"usedMemory":"67551 KB","availableMemory":"8251425 KB","systemCpuLoad":"empty","availableProcessors":8},"clientCfgs":{"id":1,"machineId":"uuid:e53a458b-00e0-4e37-a5ec-08dc74d74003","connectionMode":"DIRECT","numberOfClients":0,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userProfileRepository' defined in no.klp.cosmodbpoc.UserProfileRepository defined in @EnableReactiveCosmosRepositories declared on UserProfileConfiguration: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.data.cosmos.repository.support.SimpleReactiveCosmosRepository]: Constructor threw exception; nested exception is com.azure.spring.data.cosmos.exception.CosmosAccessException: Failed to create container; nested exception is {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","statusCode":400,"resourceAddress":"https://sandbox-cosmos-db-poc-account-norwayeast.documents.azure.com:443/dbs/testdb/colls","error":"{\"code\":\"BadRequest\",\"message\":\"Setting offer throughput or autopilot on container is not supported for serverless accounts.\\r\\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest\",\"additionalErrorInfo\":null}","innerErrorMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","causeInfo":null,"responseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}","requestHeaders":"[Accept=application/json, x-ms-date=Mon, 15 Aug 2022 09:39:53 GMT, x-ms-offer-throughput=400, Content-Type=application/json]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","activityId":"d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12","requestLatencyInMs":62,"requestStartTimeUTC":"2022-08-15T09:39:53.608958500Z","requestEndTimeUTC":"2022-08-15T09:39:53.671912800Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":["norway east"],"retryContext":{"statusAndSubStatusCodes":null,"retryLatency":0,"retryCount":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":[{"serializationType":"CONTAINER_SERIALIZATION","startTimeUTC":"2022-08-15T09:39:53.608958500Z","endTimeUTC":"2022-08-15T09:39:53.609960300Z","durationInMilliSecs":1.0018}]},"gatewayStatistics":{"sessionToken":null,"operationType":"Create","resourceType":"DocumentCollection","statusCode":400,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-08-15T09:39:53.612713100Z","durationInMilliSecs":39.0866},{"eventName":"connectionConfigured","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":0.0},{"eventName":"requestSent","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":4.5491},{"eventName":"transitTime","startTimeUTC":"2022-08-15T09:39:53.656348800Z","durationInMilliSecs":14.0832},{"eventName":"received","startTimeUTC":"2022-08-15T09:39:53.670432Z","durationInMilliSecs":0.9385}],"partitionKeyRangeId":null,"exceptionMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","exceptionResponseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}"},"systemInformation":{"usedMemory":"69603 KB","availableMemory":"8249373 KB","systemCpuLoad":"empty","availableProcessors":8},"clientCfgs":{"id":1,"machineId":"uuid:e53a458b-00e0-4e37-a5ec-08dc74d74003","connectionMode":"DIRECT","numberOfClients":0,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.azure.spring.data.cosmos.repository.support.SimpleReactiveCosmosRepository]: Constructor threw exception; nested exception is com.azure.spring.data.cosmos.exception.CosmosAccessException: Failed to create container; nested exception is {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","statusCode":400,"resourceAddress":"https://sandbox-cosmos-db-poc-account-norwayeast.documents.azure.com:443/dbs/testdb/colls","error":"{\"code\":\"BadRequest\",\"message\":\"Setting offer throughput or autopilot on container is not supported for serverless accounts.\\r\\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest\",\"additionalErrorInfo\":null}","innerErrorMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","causeInfo":null,"responseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}","requestHeaders":"[Accept=application/json, x-ms-date=Mon, 15 Aug 2022 09:39:53 GMT, x-ms-offer-throughput=400, Content-Type=application/json]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","activityId":"d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12","requestLatencyInMs":62,"requestStartTimeUTC":"2022-08-15T09:39:53.608958500Z","requestEndTimeUTC":"2022-08-15T09:39:53.671912800Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":["norway east"],"retryContext":{"statusAndSubStatusCodes":null,"retryLatency":0,"retryCount":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":[{"serializationType":"CONTAINER_SERIALIZATION","startTimeUTC":"2022-08-15T09:39:53.608958500Z","endTimeUTC":"2022-08-15T09:39:53.609960300Z","durationInMilliSecs":1.0018}]},"gatewayStatistics":{"sessionToken":null,"operationType":"Create","resourceType":"DocumentCollection","statusCode":400,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-08-15T09:39:53.612713100Z","durationInMilliSecs":39.0866},{"eventName":"connectionConfigured","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":0.0},{"eventName":"requestSent","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":4.5491},{"eventName":"transitTime","startTimeUTC":"2022-08-15T09:39:53.656348800Z","durationInMilliSecs":14.0832},{"eventName":"received","startTimeUTC":"2022-08-15T09:39:53.670432Z","durationInMilliSecs":0.9385}],"partitionKeyRangeId":null,"exceptionMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","exceptionResponseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}"},"systemInformation":{"usedMemory":"69603 KB","availableMemory":"8249373 KB","systemCpuLoad":"empty","availableProcessors":8},"clientCfgs":{"id":1,"machineId":"uuid:e53a458b-00e0-4e37-a5ec-08dc74d74003","connectionMode":"DIRECT","numberOfClients":0,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
Caused by: com.azure.spring.data.cosmos.exception.CosmosAccessException: Failed to create container; nested exception is {"ClassName":"CosmosException","userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","statusCode":400,"resourceAddress":"https://sandbox-cosmos-db-poc-account-norwayeast.documents.azure.com:443/dbs/testdb/colls","error":"{\"code\":\"BadRequest\",\"message\":\"Setting offer throughput or autopilot on container is not supported for serverless accounts.\\r\\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest\",\"additionalErrorInfo\":null}","innerErrorMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","causeInfo":null,"responseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}","requestHeaders":"[Accept=application/json, x-ms-date=Mon, 15 Aug 2022 09:39:53 GMT, x-ms-offer-throughput=400, Content-Type=application/json]","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","activityId":"d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12","requestLatencyInMs":62,"requestStartTimeUTC":"2022-08-15T09:39:53.608958500Z","requestEndTimeUTC":"2022-08-15T09:39:53.671912800Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":["norway east"],"retryContext":{"statusAndSubStatusCodes":null,"retryLatency":0,"retryCount":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":[{"serializationType":"CONTAINER_SERIALIZATION","startTimeUTC":"2022-08-15T09:39:53.608958500Z","endTimeUTC":"2022-08-15T09:39:53.609960300Z","durationInMilliSecs":1.0018}]},"gatewayStatistics":{"sessionToken":null,"operationType":"Create","resourceType":"DocumentCollection","statusCode":400,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-08-15T09:39:53.612713100Z","durationInMilliSecs":39.0866},{"eventName":"connectionConfigured","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":0.0},{"eventName":"requestSent","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":4.5491},{"eventName":"transitTime","startTimeUTC":"2022-08-15T09:39:53.656348800Z","durationInMilliSecs":14.0832},{"eventName":"received","startTimeUTC":"2022-08-15T09:39:53.670432Z","durationInMilliSecs":0.9385}],"partitionKeyRangeId":null,"exceptionMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","exceptionResponseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}"},"systemInformation":{"usedMemory":"69603 KB","availableMemory":"8249373 KB","systemCpuLoad":"empty","availableProcessors":8},"clientCfgs":{"id":1,"machineId":"uuid:e53a458b-00e0-4e37-a5ec-08dc74d74003","connectionMode":"DIRECT","numberOfClients":0,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}
Caused by: com.azure.cosmos.CosmosException: {"innerErrorMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","cosmosDiagnostics":{"userAgent":"azsdk-java-cosmos/4.33.1 Windows10/10.0 JRE/17","activityId":"d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12","requestLatencyInMs":62,"requestStartTimeUTC":"2022-08-15T09:39:53.608958500Z","requestEndTimeUTC":"2022-08-15T09:39:53.671912800Z","responseStatisticsList":[],"supplementalResponseStatisticsList":[],"addressResolutionStatistics":{},"regionsContacted":["norway east"],"retryContext":{"statusAndSubStatusCodes":null,"retryLatency":0,"retryCount":0},"metadataDiagnosticsContext":{"metadataDiagnosticList":null},"serializationDiagnosticsContext":{"serializationDiagnosticsList":[{"serializationType":"CONTAINER_SERIALIZATION","startTimeUTC":"2022-08-15T09:39:53.608958500Z","endTimeUTC":"2022-08-15T09:39:53.609960300Z","durationInMilliSecs":1.0018}]},"gatewayStatistics":{"sessionToken":null,"operationType":"Create","resourceType":"DocumentCollection","statusCode":400,"subStatusCode":0,"requestCharge":0.0,"requestTimeline":[{"eventName":"connectionCreated","startTimeUTC":"2022-08-15T09:39:53.612713100Z","durationInMilliSecs":39.0866},{"eventName":"connectionConfigured","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":0.0},{"eventName":"requestSent","startTimeUTC":"2022-08-15T09:39:53.651799700Z","durationInMilliSecs":4.5491},{"eventName":"transitTime","startTimeUTC":"2022-08-15T09:39:53.656348800Z","durationInMilliSecs":14.0832},{"eventName":"received","startTimeUTC":"2022-08-15T09:39:53.670432Z","durationInMilliSecs":0.9385}],"partitionKeyRangeId":null,"exceptionMessage":"Setting offer throughput or autopilot on container is not supported for serverless accounts.\r\nActivityId: d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, Microsoft.Azure.Documents.Common/2.14.0, StatusCode: BadRequest","exceptionResponseHeaders":"{Content-Type=application/json, Date=Mon, 15 Aug 2022 09:39:52 GMT, Server=Microsoft-HTTPAPI/2.0, Strict-Transport-Security=max-age=31536000, Transfer-Encoding=chunked, x-ms-activity-id=d843a0a0-cccb-4bb7-b532-4f6a1e0c7e12, x-ms-gatewayversion=version=2.14.0}"},"systemInformation":{"usedMemory":"69603 KB","availableMemory":"8249373 KB","systemCpuLoad":"empty","availableProcessors":8},"clientCfgs":{"id":1,"machineId":"uuid:e53a458b-00e0-4e37-a5ec-08dc74d74003","connectionMode":"DIRECT","numberOfClients":0,"connCfg":{"rntbd":"(cto:PT5S, nrto:PT5S, icto:PT0S, ieto:PT1H, mcpe:130, mrpc:30, cer:true)","gw":"(cps:1000, nrto:PT1M, icto:PT1M, p:false)","other":"(ed: true, cs: false)"},"consistencyCfg":"(consistency: null, mm: true, prgns: [])"}}}

